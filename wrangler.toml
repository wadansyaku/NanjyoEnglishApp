name = "nanjyoenglishapp"
main = "worker/index.ts"
compatibility_date = "2026-02-01"
routes = [
  { pattern = "ai-yu-me.com/aiyume_english*", zone_name = "ai-yu-me.com" },
  { pattern = "ai-yu-me.com/api/*", zone_name = "ai-yu-me.com" },
  { pattern = "www.ai-yu-me.com/*", zone_name = "ai-yu-me.com" }
]

assets = { directory = "./dist", binding = "ASSETS", not_found_handling = "single-page-application", run_worker_first = true }

[vars]
AI_PROVIDER = "openai"
CLOUD_OCR_DAILY_LIMIT = "20"
AI_MEANING_DAILY_LIMIT = "20"
APP_URL = "https://ai-yu-me.com/aiyume_english"

[[d1_databases]]
binding = "DB"
database_name = "nanjyo_lexicon"
database_id = "33254d1b-7650-4eb3-bff2-f44ffa4abc31"
migrations_dir = "migrations"
